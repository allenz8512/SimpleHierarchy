using System;
using System.Collections.Generic;
using UnityEditor;
using UnityEngine;

// ReSharper disable once CheckNamespace
namespace nz.alle.SimpleHierarchy
{
    [InitializeOnLoad]
    internal static class UnityComponentPriority
    {
        private static string[] s_Ordered;

        private static Dictionary<string, int> s_PriorityLUT = new Dictionary<string, int>();

        static UnityComponentPriority()
        {
            s_Ordered = new[]
            {
                "UnityEngine.AudioBehaviour",
                "UnityEngine.SkinnedMeshRenderer",
                "UnityEngine.Rigidbody",
                "UnityEngine.Rigidbody2D",
                "UnityEngine.Tilemaps.Tilemap",
                "UnityEngine.AI.OffMeshLink",
                "UnityEngine.AI.NavMeshObstacle",
                "UnityEngine.AI.NavMeshAgent",
                "UnityEngine.Animations.ParentConstraint",
                "UnityEngine.Animations.LookAtConstraint",
                "UnityEngine.Animations.ScaleConstraint",
                "UnityEngine.Animations.RotationConstraint",
                "UnityEngine.Animations.PositionConstraint",
                "UnityEngine.Animations.AimConstraint",
                "UnityEngine.Animation",
                "UnityEngine.Animator",
                "UnityEngine.AudioChorusFilter",
                "UnityEngine.AudioEchoFilter",
                "UnityEngine.AudioDistortionFilter",
                "UnityEngine.AudioReverbZone",
                "UnityEngine.AudioListener",
                "UnityEngine.AudioReverbFilter",
                "UnityEngine.AudioHighPassFilter",
                "UnityEngine.AudioLowPassFilter",
                "UnityEngine.AudioSource",
                "UnityEngine.Cloth",
                "UnityEngine.Rendering.SortingGroup",
                "UnityEngine.SpriteRenderer",
                "UnityEngine.NetworkView",
                "UnityEngine.LODGroup",
                "UnityEngine.LightProbeGroup",
                "UnityEngine.MeshRenderer",
                "UnityEngine.LightProbeProxyVolume",
                "UnityEngine.Halo",
                "UnityEngine.MeshFilter",
                "UnityEngine.Skybox",
                "UnityEngine.Light",
                "UnityEngine.LensFlare",
                "UnityEngine.OcclusionArea",
                "UnityEngine.OcclusionPortal",
                "UnityEngine.LineRenderer",
                "UnityEngine.TrailRenderer",
                "UnityEngine.Projector",
                "UnityEngine.Renderer",
                "UnityEngine.BillboardRenderer",
                "UnityEngine.ReflectionProbe",
                "UnityEngine.FlareLayer",
                "UnityEngine.Playables.PlayableDirector",
                "UnityEngine.GridLayout",
                "UnityEngine.Grid",
                "UnityEngine.ParticleSystemForceField",
                "UnityEngine.ParticleSystemRenderer",
                "UnityEngine.ParticleSystem",
                "UnityEngine.ConfigurableJoint",
                "UnityEngine.CharacterJoint",
                "UnityEngine.FixedJoint",
                "UnityEngine.SpringJoint",
                "UnityEngine.HingeJoint",
                "UnityEngine.Joint",
                "UnityEngine.ConstantForce",
                "UnityEngine.SphereCollider",
                "UnityEngine.BoxCollider",
                "UnityEngine.CapsuleCollider",
                "UnityEngine.MeshCollider",
                "UnityEngine.CharacterController",
                "UnityEngine.Collider",
                "UnityEngine.ArticulationBody",
                "UnityEngine.ConstantForce2D",
                "UnityEngine.PhysicsUpdateBehaviour2D",
                "UnityEngine.SurfaceEffector2D",
                "UnityEngine.PlatformEffector2D",
                "UnityEngine.PointEffector2D",
                "UnityEngine.BuoyancyEffector2D",
                "UnityEngine.AreaEffector2D",
                "UnityEngine.Effector2D",
                "UnityEngine.WheelJoint2D",
                "UnityEngine.FixedJoint2D",
                "UnityEngine.TargetJoint2D",
                "UnityEngine.SliderJoint2D",
                "UnityEngine.RelativeJoint2D",
                "UnityEngine.HingeJoint2D",
                "UnityEngine.FrictionJoint2D",
                "UnityEngine.DistanceJoint2D",
                "UnityEngine.SpringJoint2D",
                "UnityEngine.AnchoredJoint2D",
                "UnityEngine.Joint2D",
                "UnityEngine.CompositeCollider2D",
                "UnityEngine.PolygonCollider2D",
                "UnityEngine.BoxCollider2D",
                "UnityEngine.EdgeCollider2D",
                "UnityEngine.CapsuleCollider2D",
                "UnityEngine.CircleCollider2D",
                "UnityEngine.CustomCollider2D",
                "UnityEngine.Collider2D",
                "UnityEngine.SpriteMask",
                "UnityEngine.U2D.SpriteShapeRenderer",
                "UnityEngine.StreamingController",
                "UnityEngine.Tree",
                "UnityEngine.TerrainCollider",
                "UnityEngine.Terrain",
                "UnityEngine.TextMesh",
                "UnityEngine.Tilemaps.TilemapCollider2D",
                "UnityEngine.Tilemaps.TilemapRenderer",
                "UnityEngine.UIElements.UIDocument",
                "UnityEngine.Networking.Match.NetworkMatch",
                "UnityEngine.VFX.VFXRenderer",
                "UnityEngine.VFX.VisualEffect",
                "UnityEngine.WheelCollider",
                "UnityEngine.Video.VideoPlayer",
                "UnityEngine.WindZone",
                "UnityEngine.UI.Dropdown+DropdownItem",
                "UnityEngine.EventSystems.PhysicsRaycaster",
                "UnityEngine.EventSystems.Physics2DRaycaster",
                "UnityEngine.EventSystems.TouchInputModule",
                "UnityEngine.EventSystems.StandaloneInputModule",
                "UnityEngine.EventSystems.BaseInput",
                "UnityEngine.EventSystems.EventTrigger",
                "UnityEngine.EventSystems.EventSystem",
                "UnityEngine.UIElements.PanelRaycaster",
                "UnityEngine.UIElements.PanelEventHandler",
                "TMPro.TMP_Dropdown+DropdownItem",
                "TMPro.TMP_SubMeshUI",
                "TMPro.TMP_SubMesh",
                "TMPro.TMP_SpriteAnimator",
                "TMPro.TMP_SelectionCaret",
                "TMPro.TMP_ScrollbarEventHandler",
                "TMPro.TMP_InputField",
                "TMPro.TMP_Dropdown",
                "TMPro.TextMeshProUGUI",
                "TMPro.TextMeshPro",
                "TMPro.TextContainer",
                "UnityEngine.UI.GraphicRaycaster",
                "UnityEngine.UI.CanvasScaler",
                "UnityEngine.CanvasRenderer",
                "UnityEngine.CanvasGroup",
                "UnityEngine.Canvas",
                "UnityEngine.UI.LayoutElement",
                "UnityEngine.UI.VerticalLayoutGroup",
                "UnityEngine.UI.HorizontalLayoutGroup",
                "UnityEngine.UI.GridLayoutGroup",
                "UnityEngine.UI.ContentSizeFitter",
                "UnityEngine.UI.AspectRatioFitter",
                "UnityEngine.UI.Selectable",
                "UnityEngine.UI.Mask",
                "UnityEngine.UI.RectMask2D",
                "UnityEngine.UI.Shadow",
                "UnityEngine.UI.PositionAsUV1",
                "UnityEngine.UI.Outline",
                "UnityEngine.UI.ToggleGroup",
                "UnityEngine.UI.Toggle",
                "UnityEngine.UI.Text",
                "UnityEngine.UI.Slider",
                "UnityEngine.UI.ScrollRect",
                "UnityEngine.UI.Scrollbar",
                "UnityEngine.UI.RawImage",
                "UnityEngine.UI.InputField",
                "UnityEngine.UI.Image",
                "UnityEngine.UI.Dropdown",
                "UnityEngine.UI.Button",
                "Cinemachine.CinemachineTargetGroup",
                "Cinemachine.PostFX.CinemachineVolumeSettings",
                "Cinemachine.PostFX.CinemachinePostProcessing",
                "Cinemachine.CinemachineIndependentImpulseListener",
                "Cinemachine.CinemachineImpulseSource",
                "Cinemachine.CinemachineImpulseListener",
                "Cinemachine.CinemachineCollisionImpulseSource",
                "Cinemachine.GroupWeightManipulator",
                "Cinemachine.CinemachineTriggerAction",
                "Cinemachine.CinemachineInputProvider",
                "Cinemachine.CinemachineTransposer",
                "Cinemachine.CinemachineTrackedDolly",
                "Cinemachine.CinemachineSameAsFollowTarget",
                "Cinemachine.CinemachinePOV",
                "Cinemachine.CinemachineOrbitalTransposer",
                "Cinemachine.CinemachineHardLookAt",
                "Cinemachine.CinemachineHardLockToTarget",
                "Cinemachine.CinemachineGroupComposer",
                "Cinemachine.CinemachineFramingTransposer",
                "Cinemachine.CinemachineComposer",
                "Cinemachine.CinemachineBasicMultiChannelPerlin",
                "Cinemachine.Cinemachine3rdPersonFollow",
                "Cinemachine.CinemachineVirtualCamera",
                "Cinemachine.CinemachineStoryboard",
                "Cinemachine.CinemachineStateDrivenCamera",
                "Cinemachine.CinemachineSmoothPath",
                "Cinemachine.CinemachinePixelPerfect",
                "Cinemachine.CinemachinePipeline",
                "Cinemachine.CinemachinePath",
                "Cinemachine.CinemachineMixingCamera",
                "Cinemachine.CinemachineFreeLook",
                "Cinemachine.CinemachineFollowZoom",
                "Cinemachine.CinemachineExternalCamera",
                "Cinemachine.CinemachineDollyCart",
                "Cinemachine.CinemachineConfiner2D",
                "Cinemachine.CinemachineConfiner",
                "Cinemachine.CinemachineCollider",
                "Cinemachine.CinemachineClearShot",
                "Cinemachine.CinemachineBrain",
                "Cinemachine.CinemachineBlendListCamera",
                "Cinemachine.Cinemachine3rdPersonAim",
                "UnityEngine.Camera",
                "UnityEngine.Timeline.SignalReceiver",
                "Unity.VisualScripting.VariablesSaver",
                "Unity.VisualScripting.SceneVariables",
                "Unity.VisualScripting.Variables",
                "Unity.VisualScripting.CoroutineRunner",
                "Unity.VisualScripting.UnityMessageListener",
                "Unity.VisualScripting.UnityOnSubmitMessageListener",
                "Unity.VisualScripting.UnityOnSelectMessageListener",
                "Unity.VisualScripting.UnityOnScrollMessageListener",
                "Unity.VisualScripting.UnityOnPointerUpMessageListener",
                "Unity.VisualScripting.UnityOnPointerExitMessageListener",
                "Unity.VisualScripting.UnityOnPointerEnterMessageListener",
                "Unity.VisualScripting.UnityOnPointerDownMessageListener",
                "Unity.VisualScripting.UnityOnPointerClickMessageListener",
                "Unity.VisualScripting.UnityOnMoveMessageListener",
                "Unity.VisualScripting.UnityOnEndDragMessageListener",
                "Unity.VisualScripting.UnityOnDropMessageListener",
                "Unity.VisualScripting.UnityOnDragMessageListener",
                "Unity.VisualScripting.UnityOnDeselectMessageListener",
                "Unity.VisualScripting.UnityOnCancelMessageListener",
                "Unity.VisualScripting.UnityOnBeginDragMessageListener",
                "Unity.VisualScripting.UnityOnToggleValueChangedMessageListener",
                "Unity.VisualScripting.UnityOnSliderValueChangedMessageListener",
                "Unity.VisualScripting.UnityOnScrollRectValueChangedMessageListener",
                "Unity.VisualScripting.UnityOnScrollbarValueChangedMessageListener",
                "Unity.VisualScripting.UnityOnInputFieldValueChangedMessageListener",
                "Unity.VisualScripting.UnityOnInputFieldEndEditMessageListener",
                "Unity.VisualScripting.UnityOnDropdownValueChangedMessageListener",
                "Unity.VisualScripting.UnityOnButtonClickMessageListener",
                "Unity.VisualScripting.UnityOnTriggerStayMessageListener",
                "Unity.VisualScripting.UnityOnTriggerStay2DMessageListener",
                "Unity.VisualScripting.UnityOnTriggerExitMessageListener",
                "Unity.VisualScripting.UnityOnTriggerExit2DMessageListener",
                "Unity.VisualScripting.UnityOnTriggerEnterMessageListener",
                "Unity.VisualScripting.UnityOnTriggerEnter2DMessageListener",
                "Unity.VisualScripting.UnityOnTransformParentChangedMessageListener",
                "Unity.VisualScripting.UnityOnTransformChildrenChangedMessageListener",
                "Unity.VisualScripting.UnityOnParticleCollisionMessageListener",
                "Unity.VisualScripting.UnityOnMouseUpMessageListener",
                "Unity.VisualScripting.UnityOnMouseUpAsButtonMessageListener",
                "Unity.VisualScripting.UnityOnMouseOverMessageListener",
                "Unity.VisualScripting.UnityOnMouseExitMessageListener",
                "Unity.VisualScripting.UnityOnMouseEnterMessageListener",
                "Unity.VisualScripting.UnityOnMouseDragMessageListener",
                "Unity.VisualScripting.UnityOnMouseDownMessageListener",
                "Unity.VisualScripting.UnityOnJointBreakMessageListener",
                "Unity.VisualScripting.UnityOnJointBreak2DMessageListener",
                "Unity.VisualScripting.UnityOnControllerColliderHitMessageListener",
                "Unity.VisualScripting.UnityOnCollisionStayMessageListener",
                "Unity.VisualScripting.UnityOnCollisionStay2DMessageListener",
                "Unity.VisualScripting.UnityOnCollisionExitMessageListener",
                "Unity.VisualScripting.UnityOnCollisionExit2DMessageListener",
                "Unity.VisualScripting.UnityOnCollisionEnterMessageListener",
                "Unity.VisualScripting.UnityOnCollisionEnter2DMessageListener",
                "Unity.VisualScripting.UnityOnBecameVisibleMessageListener",
                "Unity.VisualScripting.UnityOnBecameInvisibleMessageListener",
                "Unity.VisualScripting.GlobalMessageListener",
                "Unity.VisualScripting.AnimatorMessageListener",
                "Unity.VisualScripting.ScriptMachine",
                "Unity.VisualScripting.StateMachine",
                "UnityEngine.VFX.Utility.VFXPropertyBinder",
                "UnityEngine.VFX.Utility.VFXVelocityBinder",
                "UnityEngine.VFX.Utility.VFXUIToggleBinder",
                "UnityEngine.VFX.Utility.VFXUISliderBinder",
                "UnityEngine.VFX.Utility.VFXUIDropdownBinder",
                "UnityEngine.VFX.Utility.VFXTransformBinder",
                "UnityEngine.VFX.Utility.VFXTerrainBinder",
                "UnityEngine.VFX.Utility.VFXSphereBinder",
                "UnityEngine.VFX.Utility.VFXRaycastBinder",
                "UnityEngine.VFX.Utility.VFXPreviousPositionBinder",
                "UnityEngine.VFX.Utility.VFXPositionBinder",
                "UnityEngine.VFX.Utility.VFXPlaneBinder",
                "UnityEngine.VFX.Utility.VFXMultiplePositionBinder",
                "UnityEngine.VFX.Utility.VFXLightBinder",
                "UnityEngine.VFX.Utility.VFXInputTouchBinder",
                "UnityEngine.VFX.Utility.VFXInputMouseBinder",
                "UnityEngine.VFX.Utility.VFXInputKeyBinder",
                "UnityEngine.VFX.Utility.VFXInputButtonBinder",
                "UnityEngine.VFX.Utility.VFXInputAxisBinder",
                "UnityEngine.VFX.Utility.VFXHierarchyAttributeMapBinder",
                "UnityEngine.VFX.Utility.VFXEnabledBinder",
                "UnityEngine.VFX.Utility.VFXAudioSpectrumBinder",
                "UnityEngine.VFX.Utility.VFXVisibilityEventBinder",
                "UnityEngine.VFX.Utility.VFXTriggerEventBinder",
                "UnityEngine.VFX.Utility.VFXRigidBodyCollisionEventBinder",
                "UnityEngine.VFX.Utility.VFXMouseEventBinder",
                "UnityEngine.Rendering.MousePositionDebug+GameViewEventCatcher",
                "UnityEngine.Rendering.UI.UIFoldout",
                "UnityEngine.Rendering.UI.DebugUIHandlerWidget",
                "UnityEngine.Rendering.UI.DebugUIHandlerVector4",
                "UnityEngine.Rendering.UI.DebugUIHandlerVector3",
                "UnityEngine.Rendering.UI.DebugUIHandlerVector2",
                "UnityEngine.Rendering.UI.DebugUIHandlerVBox",
                "UnityEngine.Rendering.UI.DebugUIHandlerValue",
                "UnityEngine.Rendering.UI.DebugUIHandlerUIntField",
                "UnityEngine.Rendering.UI.DebugUIHandlerToggleHistory",
                "UnityEngine.Rendering.UI.DebugUIHandlerToggle",
                "UnityEngine.Rendering.UI.DebugUIHandlerRow",
                "UnityEngine.Rendering.UI.DebugUIHandlerPersistentCanvas",
                "UnityEngine.Rendering.UI.DebugUIHandlerPanel",
                "UnityEngine.Rendering.UI.DebugUIHandlerMessageBox",
                "UnityEngine.Rendering.UI.DebugUIHandlerIntField",
                "UnityEngine.Rendering.UI.DebugUIHandlerIndirectToggle",
                "UnityEngine.Rendering.UI.DebugUIHandlerIndirectFloatField",
                "UnityEngine.Rendering.UI.DebugUIHandlerHBox",
                "UnityEngine.Rendering.UI.DebugUIHandlerGroup",
                "UnityEngine.Rendering.UI.DebugUIHandlerFoldout",
                "UnityEngine.Rendering.UI.DebugUIHandlerFloatField",
                "UnityEngine.Rendering.UI.DebugUIHandlerEnumHistory",
                "UnityEngine.Rendering.UI.DebugUIHandlerEnumField",
                "UnityEngine.Rendering.UI.DebugUIHandlerContainer",
                "UnityEngine.Rendering.UI.DebugUIHandlerColor",
                "UnityEngine.Rendering.UI.DebugUIHandlerCanvas",
                "UnityEngine.Rendering.UI.DebugUIHandlerButton",
                "UnityEngine.Rendering.UI.DebugUIHandlerBitField",
                "UnityEngine.Rendering.Volume",
                "UnityEngine.Rendering.LensFlareComponentSRP",
                "UnityEngine.Rendering.DebugUpdater",
                "UnityEngine.Rendering.FreeCamera",
                "UnityEngine.Rendering.CameraSwitcher",
                "UnityEngine.Experimental.Rendering.ProbeVolumePerSceneData",
                "UnityEngine.Experimental.Rendering.ProbeVolume",
                "UnityEngine.LightAnchor"
            };

            BuildLUT();
        }

        private static void BuildLUT()
        {
            for (int i = 0; i < s_Ordered.Length; i++)
            {
                string typeFullname = s_Ordered[i];
                s_PriorityLUT[typeFullname] = i;
            }
        }

        public static int GetPriority(Component component)
        {
            return s_PriorityLUT.GetValueOrDefault(component.GetType().FullName!, -1);
        }
    }
}